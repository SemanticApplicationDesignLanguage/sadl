<html>

<head>
<title>Developing UnittedQuantity Handlers</title>
  <head>
    <meta name="GENERATOR" content="Microsoft FrontPage 5.0">
    <meta name="ProgId" content="FrontPage.Editor.Document">
    <meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
  </head>
  <body>
    <h1>Developing UnittedQuantity Handlers<br>
    </h1>
    <h5>Last revised
      <!--webbot bot="Timestamp" S-Type="EDITED" S-Format="%m/%d/%Y" startspan -->06/22/2023<!--webbot bot="Timestamp" endspan i-checksum="12544" -->.
      <a href="contact.html">Contact us</a>.</h5>
    <p>Handling of instances of <i>UnittedQuantity</i> occurring in expressions 
    during editing and inference is treated as a subset of type checking. A 
    helper class may be specified in the SADL preferences under &quot;UnittedQuantity 
    Handler&quot;. </p>
    <p>A helper class must implement the Interface class <i>
    ITypedBuiltinFunctionHelper</i>. This Interface class defines the enum <i>
    UnittedQuantityBuiltinHandlingType</i> which categorizes built-in functions 
    with respect to restrictions on <i>UnittedQuantity</i> arguments and which 
    has the following members.</p>
    <ol>
      <li>SingleArgument -- the function takes only a single argument of type <i>
      UnittedQuantity.</i></li>
      <li>SameUnitsRequired -- the function may have two or more arguments of 
      type <i>UnittedQuantity</i> but all must arguments must have the same 
      units. Examples include sum, difference, minimum, maximum, and comparison 
      operators.</li>
      <li>DifferentUnitAllowedOrLeftOnly -- the function may have multiple 
      arguments of type <i>UnittedQuantity</i> or the first argument may be of 
      type <i>UnittedQuantity</i> and subsequent arguments are not of type <i>
      UnittedQuantity. </i>Examples include multiplication and division.</li>
      <li>LeftUnitsOnly -- the function have a <i>UnittedQuantity</i> argument 
      only as the first argument. An example is exponentiation.</li>
      <li>UnitsNotSupported -- the function does not support arguments of type
      <i>UnittedQuantity.</i></li>
    </ol>
    <p>Implementations of the Interface must override the following methods.</p>
    <ol>
      <li>combineUnits -- takes a binary operator and two arguments, which are 
      the units of the binary operation. Returns the units of the output of the 
      operation.</li>
      <li>performUnitConversions -- takes four inputs: first argument, first 
      argument units, second argument, second argument units. It returns a array 
      with four elements: new first argument value, first argument units, second 
      argument value, second argument units.</li>
      <li>validateArgumentTypes -- this method is not restricted to 
      UnittedQuantity arguments but will take any set of arguments and argument 
      types and check them to see if they are valid. It will return the type(s) 
      of the output of the function.</li>
      <li>getTranslator -- returns the translator being used. This is necessary 
      as the translator may be used in the implementation of some method 
      functionality.</li>
      <li>setTranslator -- sets the translator being used.</li>
      <li>getUnittedQuantityBuiltinHandlingTypeOfBuiltinFromTranslator -- calls 
      the translator to obtain the <i>UnittedQuantityBuiltinHandlingType</i>.</li>
    </ol>
    <p>In addition, the static method 
    getUnittedQuantityBuiltinHandlingTypeOfCommonBuiltins may be overridden if 
    desired.</p>
    <p>A simple implementation of the Interface <i>ITypedBuiltinFunctionHelper
    </i>be found in the class com.ge.research.sadl.jena.reasoner.SimpleJenaTypedBuiltinFunctionHelper. 
    This implementation does not support unit conversions and the implemented 
    approach to combining units is very simple. Given a richer semantic model of 
    units, such as that provided by <span style="font-family: &quot;Times New Roman&quot;, serif;"><a href="http://www.qudt.org/">QUDT</a></span>, 
    these methods could be made very powerful.</p>

    </body>

</html>