<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Web SADL</title>
<style>
<!--
 p.MsoNormal
	{mso-style-parent:"";
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	margin-left:0in; margin-right:0in; margin-top:0in}
 li.MsoNormal
	{mso-style-parent:"";
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	margin-left:0in; margin-right:0in; margin-top:0in}
-->
</style>
</head>

<body>

<h1>Web SADL</h1>
<h5>Last revised
<!--webbot bot="Timestamp" S-Type="EDITED" S-Format="%m/%d/%Y" startspan -->09/05/2018<!--webbot bot="Timestamp" endspan i-checksum="12591" -->. 
Send comments to <a href="mailto:crapo@research.ge.com?subject=SADL 3">mailto:crapo@research.ge.com</a>.</h5>

<h4>Table of Contents</h4>

<h2>Introduction</h2>

<p>Web SADL is a set of services that allow a SADL IDE to be instantiated in a 
Web browser. The functionality mirrors that of the Eclipse-based SADL IDE. Web 
SADL features include the following.</p>
<ul>
  <li>
<p class="MsoNormal">Authoring of SADL model files in a feature-rich text 
editor.</p>
  </li>
  <li>
<p class="MsoNormal">Live model instance validation.</p>
  </li>
  <li>
<p class="MsoNormal">Generation (OWL, N3, and NT) based on valid SADL models.</p>
  </li>
  <li>
<p class="MsoNormal">LS based semantic highlighting.</p>
  </li>
  <li>
<p class="MsoNormal">Navigation between the SADL model elements.</p>
  </li>
  <li>
<p class="MsoNormal">Content assist in the SADL editors.</p>
  </li>
  <li>
<p class="MsoNormal">Downloading and managing external SADL resources into 
the workspace.</p>
  </li>
  <li>
<p class="MsoNormal">Preferences.</p>
  </li>
  <li>
<p class="MsoNormal">Testing and querying SADL models.</p>
  </li>
  <li>
<p class="MsoNormal">Reviewing the output of any SADL model via Ask and Test 
statements.</p>
  </li>
  <li>
<p class="MsoNormal">Collaboration with the Theia Git extension.</p>
  </li>
</ul>

<p>This document is primarily about using Web SADL in a browser. For more 
information about setting up the Web SADL backend services, please see
<a href="WebSadlBackend.html">Web SADL Backend</a>.</p>

<h2>Connecting to the Web SADL Backend</h2>

<p>The Web SADL client will run in a Web browser. Chrome is recommended and it 
the browser that has been used in testing.</p>

<p>Connect to the Web SADL backed by entering the service URL of the form 
&quot;http://&lt;host&gt;:&lt;port&gt;, e.g.,</p>

<p>&nbsp;&nbsp;&nbsp; <a href="http://nsk1twin01:3000">http://nsk1twin01:3000</a></p>

<p>The result should be a browser tab with menu items across the top and down 
the left and right sides as shown below.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img border="0" src="images/WebSAD2.jpg" width="487" height="239"></p>

<h2>Using Web SADL</h2>

<h3>Creating a SADL Project</h3>

<p>To create a new SADL project, click on &quot;Files&quot; on the left-side menu to show 
the file system. Select a folder, e.g., &quot;project&quot;, and right-click to obtain a 
popup menu. Note that the Files view can be made invisible by clicking on 
&quot;Files&quot; again.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img border="0" src="images/WebSAD7.gif" width="414" height="406"></p>

<p>Click on &quot;New SADL Project&quot; to create a SADL project. Name your project as 
requested. For purposes of this tutorial, you might want to name it &quot;Shapes&quot;.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img border="0" src="images/WebSAD8.gif" width="371" height="136"></p>

<p>Note that the &quot;settings.json&quot; file contains the project settings and can be 
opened in an editor by double-clicking on the name or by right-clicking for a 
popup menu.</p>

<h3>Creating SADL Model Files</h3>

<p>Now that we have a SADL project, we can begin to create SADL model files. 
Right-click on the project name (e.g., &quot;Shapes&quot;) and select &quot;New File&quot;. In the 
naming dialog give the file a name ending in &quot;.sadl&quot;, e.g., &quot;ShapesTop.sadl&quot;. 
The result will be a new SADL model file opened in a SADL editor window. This 
editor window will have content assist, error and warning markers, hyperlinking, 
etc., just like the Eclipse-based SADL IDE. Holding down the Control key and 
pressing the space bar activates content assistance. </p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img border="0" src="images/WebSAD9.jpg" width="533" height="117"></p>

<p>Pressing the Enter key will insert the selected suggestion into the model 
file.</p>

<p>Defining a class &quot;Shape&quot; which is in the domain of property &quot;area&quot; with range 
&quot;float&quot; results in the following state of the project.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img border="0" src="images/WebSAD10.jpg" width="797" height="329"></p>

<p>Note that an &quot;OwlModels&quot; folder has been created containing the translated 
model for our newly created model as well as several other files. The &quot;ImplicitModel&quot; 
folder contains the definition of the built-in functions supported by the 
selected reasoner. It also contains the SadlImplicitModel. These two editable 
files, along with SadlBaseModel.owl in the OwlModels folder, are implicitly 
imported by every SADL model. </p>

<p>To complete our simple demo project, we create a second SADL model file which 
imports the first and defines Circle and Rectangle as subclasses of Shape with 
defining properties. Finally we add a couple of rules to compute the area of 
these types of Shape.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img border="0" src="images/WebSAD11.jpg" width="759" height="225"></p>

<h3>Testing a Model</h3>

<p>We can test our model by creating a SADL file which contains some instances 
of Shape and some tests to verify that the rules compute correct areas.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img border="0" src="images/WebSAD12.jpg" width="536" height="187"></p>

<p>By clicking on the &quot;SADL&quot; top menu item and selecting &quot;Test Model&quot;, with the 
editor focus on TestShapes.sadl, we can run inference. The results are displayed 
in the Output window and include the test results.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img border="0" src="images/WebSAD13.gif" width="490" height="48"></p>

<h2>Using Web SADL with Git</h2>

<p>Git can be set up on the server machine so that it uses the config 
information (e.g., user) from a local git repo which is the current directory or 
a parent thereof.</p>

<p>The &quot;Git&quot; tab on the left allows adding files to tracking and committing 
changes, as well as comparing a changed file with ?? </p>

<p>A terminal window opened up in the browser interface allows other git 
operations such as cloning, pushing.</p>

<p>The Git configuration on the server should be done by, so that the config 
file is in the same user home folder, the same user who starts the backend.</p>

<p>Any one who has access to the service through the browser interface can 
execute commands in the terminal window and any git actions affecting a remote 
repo will be done in the name of the local user of the current local git repo.</p>
<hr>

<h2>From Original Documentation from Akos</h2>

<h2>Notes</h2>
<p class="MsoNormal">Web SADL has been exercised on both OS X and Windows 10 (VMWare).</p>
<p class="MsoNormal">&nbsp;</p>
<h2>Current state</h2>
<p class="MsoNormal">&nbsp;- The source code is ready for review within a PR [1]. I 
have rebased the branch from the <span style="font-family: Courier New">
development</span>. As always, the source has an&nbsp;EPL v 1.0 license.&nbsp;</p>
<p class="MsoNormal">&nbsp;- I have also published a new version of the Theia SADL 
extension [2].</p>
<p class="MsoNormal">&nbsp;- The Web SADL application is publicly available [3] as a 
Docker image.</p>
<p class="MsoNormal">&nbsp;</p>
<h2>Web SADL Features</h2>
<p class="MsoNormal">&nbsp;- Authoring of SADL model files in a feature-rich text 
editor.</p>
<p class="MsoNormal">&nbsp;- Live model instance validation.</p>
<p class="MsoNormal">&nbsp;- Generation (OWL, N3, and NT) based on valid SADL models.</p>
<p class="MsoNormal">&nbsp;- LS based semantic highlighting.</p>
<p class="MsoNormal">&nbsp;- Navigation between the SADL model elements.</p>
<p class="MsoNormal">&nbsp;- Content assist in the SADL editors.</p>
<p class="MsoNormal">&nbsp;- Downloading and managing external SADL resources into 
the workspace.</p>
<p class="MsoNormal">&nbsp;- Preferences.</p>
<p class="MsoNormal">&nbsp;- Testing and querying SADL models.</p>
<p class="MsoNormal">&nbsp;- Reviewing the output of any SADL model via Ask and Test 
statements.</p>
<p class="MsoNormal">&nbsp;- Collaboration with the Theia Git extension.</p>
<p class="MsoNormal">&nbsp;</p>
<h2>Running WebSADL</h2>
<p class="MsoNormal">&nbsp;(Although this section contains documentation about the 
Windows version, it was tested and verified on both OS X and Windows platforms.)</p>
<p class="MsoNormal">&nbsp;</p>
<h3>Prerequisites</h3>
<p class="MsoNormal">&nbsp;- Hyper-V [4] must be enabled on the host Windows. 
Otherwise, Docker cannot run Linux-based containers. (Either it is already 
available on your Windows, or your system administrator can help to turn this 
on.)</p>
<p class="MsoNormal">&nbsp;- A free/community Docker ID (account).</p>
<p class="MsoNormal">&nbsp;- The Docker image comes with Git (2.13.7), but it is not 
configured. It requires manual configuration [5].&nbsp;</p>
<h3>&nbsp;Instructions</h3>
<p class="MsoNormal">- Download Docker for Windows from the Docker Store[6]. I 
used the &quot;Edge&quot; release [7] on my Windows 10 image. Once I have enabled Hyper-V, 
I had to run the installer, log in with my Docker ID and start the Web SADL 
Docker image.</p>
<p class="MsoNormal">- Pull the latest Web SADL image:</p>
<p class="MsoNormal"><span style="font-family: Courier New">docker pull theiaide/sadl</span></p>
<p class="MsoNormal">- Run the Web SADL image (from the current working 
directory):</p>
<ul type="disc" style="margin-bottom: 0in">
  <li class="MsoNormal">CMD.EXE:&nbsp;<span style="font-family: Courier New">docker 
  run -it -p 3000:3000 -v &quot;%cd%:/home/project&quot;&nbsp;theiaide/sadl</span></li>
  <li class="MsoNormal">PowerShell:&nbsp;<span style="font-family: Courier New">docker 
  run -it -p 3000:3000 -v &quot;${PWD}:/home/project&quot;&nbsp;theiaide/sadl</span></li>
  <li class="MsoNormal">Git Bash:&nbsp;<span style="font-family: Courier New">winpty&nbsp;docker 
  run -it -p 3000:3000 -v &quot;/$(pwd&nbsp;-W):/home/project&quot;&nbsp;theiaide/sadl</span></li>
</ul>
<h2>Known Limitations</h2>
<p class="MsoNormal">&nbsp;- There is no support for user specific access-control.</p>
<p class="MsoNormal">&nbsp;- The LS-based semantic highlighting works only on current 
workspace resources. What does that mean? When you open any historical revision 
of a SADL model file (with the Theia Git extension), coloring is not available. 
The coloring is also not available in diff editors when comparing the current 
state of a SADL model file with any other historical revisions.</p>
<p class="MsoNormal">&nbsp;- Time to time, a native file change event does not arrive 
from the Docker container to the Theia backend. What does that mean? It might 
happen that after downloading external SADL resources, you have to refresh your 
browser (Ctrl/Cmd+R) to get rid of the compiler errors.</p>
<p class="MsoNormal">&nbsp;- Publishing a new version of Web SADL is not automated. 
What does that mean? If you change something relevant in the SADL Java code, a 
new version of Theia SADL extension has to be published manually based on the 
documentation [8]. Finally, a new Docker image has to be released as well based 
on the new extension.</p>
<p class="MsoNormal">&nbsp;</p>
<h2>Notes</h2>
<p class="MsoNormal">&nbsp;- There are CIs on the
<span style="font-family: Courier New">development</span> branch of 
sadlos2/sadl3.</p>
<p class="MsoNormal">&nbsp;- Some general documentation on Theia as an IDE (with the 
Git integration) is available [9] as part of Gitpod.</p>
<p class="MsoNormal">&nbsp;</p>
<p class="MsoNormal">[1]:
<a href="https://github.com/crapo/sadlos2/pull/296/" style="color: blue; text-decoration: underline; text-underline: single">
https://github.com/crapo/sadlos2/pull/296/</a></p>
<p class="MsoNormal">[2]:
<a href="https://www.npmjs.com/package/sadl-extension/" style="color: blue; text-decoration: underline; text-underline: single">
https://www.npmjs.com/package/sadl-extension/</a></p>
<p class="MsoNormal">[3]:
<a href="https://hub.docker.com/r/theiaide/sadl/" style="color: blue; text-decoration: underline; text-underline: single">
https://hub.docker.com/r/theiaide/sadl/</a></p>
<p class="MsoNormal">[4]:
<a href="https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v/" style="color: blue; text-decoration: underline; text-underline: single">
https://docs.microsoft.com/en-us/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v/</a></p>
<p class="MsoNormal">[5]:
<a href="https://github.com/theia-ide/theia/issues/1037#issuecomment-376180725/" style="color: blue; text-decoration: underline; text-underline: single">
https://github.com/theia-ide/theia/issues/1037#issuecomment-376180725/</a></p>
<p class="MsoNormal">[6]:
<a href="https://store.docker.com/editions/community/docker-ce-desktop-windows/" style="color: blue; text-decoration: underline; text-underline: single">
https://store.docker.com/editions/community/docker-ce-desktop-windows/</a></p>
<p class="MsoNormal">[7]:
<a href="https://download.docker.com/win/edge/Docker%20for%20Windows%20Installer.exe/" style="color: blue; text-decoration: underline; text-underline: single">
https://download.docker.com/win/edge/Docker%20for%20Windows%20Installer.exe/</a></p>
<p class="MsoNormal">[8]:
<a href="https://www.npmjs.com/package/sadl-extension#release-engineering/" style="color: blue; text-decoration: underline; text-underline: single">
https://www.npmjs.com/package/sadl-extension#release-engineering/</a></p>
<p class="MsoNormal">[9]:&nbsp;<a href="https://docs.gitpod.io/50_IDE.html/" style="color: blue; text-decoration: underline; text-underline: single">https://docs.gitpod.io/50_IDE.html/</a></p>
<p class="MsoNormal">&nbsp;</p>

</body>

</html>